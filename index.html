<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Analyst Pivot — 12-Week Tracker</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
:root{
  /* Brighter, high-contrast palette */
  --bg1: radial-gradient(60% 80% at 50% -10%, rgba(99,102,241,.32), transparent);
  --bg2: radial-gradient(60% 80% at 10% 30%, rgba(167,139,250,.25), transparent);
  --bg3: radial-gradient(60% 80% at 90% 30%, rgba(34,211,238,.24), transparent);

  --card: rgba(20,24,38,.94);
  --card-alt: rgba(16,19,31,.92);
  --border: rgba(255,255,255,.10);
  --border-strong: rgba(255,255,255,.16);

  --text: #f6f9ff;      /* brighter main text */
  --muted: #d5defa;     /* brighter secondary text */
  --muted2: #b9c6ec;    /* brighter tertiary text */

  --indigo: #8b91ff;
  --violet: #b296ff;
  --cyan: #3ae0ff;
  --emerald: #40e6a9;
  --amber: #ffc857;
  --red: #ff5757;
}
    *{ box-sizing: border-box }
    body{
      margin:0; color:var(--text); font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--bg1), var(--bg2), var(--bg3), #0b0e16;
      min-height:100vh;
    }
    .wrap{ max-width:1040px; margin:0 auto; padding:32px 16px 80px }
    .chip{ display:inline-flex; align-items:center; gap:8px; font-size:12px; letter-spacing:.08em; text-transform:uppercase;
      padding:6px 10px; border-radius:999px; background:var(--glass); border:1px solid var(--glass-border); color:var(--muted) }
    h1{ margin:6px 0 0; font-size:40px; line-height:1.1 }
    p.lede{ color:var(--muted); max-width:720px }
    .btn{ cursor:pointer; border:1px solid var(--glass-border); background:var(--glass); color:var(--text); border-radius:14px; padding:10px 14px; transition:.2s }
    .btn:hover{ background:rgba(255,255,255,0.10) }
    .grid3{ display:grid; grid-template-columns:1fr; gap:12px }
    @media(min-width:960px){ .grid3{ grid-template-columns: auto 1fr auto } }

    .glass{ background:var(--glass); border:1px solid var(--glass-border); border-radius:20px; padding:18px; box-shadow: 0 10px 30px rgba(0,0,0,.25); }
    .progress{ height:12px; width:100%; background:rgba(255,255,255,.10); border-radius:999px; overflow:hidden }
    .bar{ height:100%; background:linear-gradient(90deg, #6366f1, #a855f7, #22d3ee); width:0% }

    .week-nav{ text-align:center }
    .week-title{ font-size:22px; font-weight:700; margin-top:4px }
    .week-sub{ color:var(--muted); margin-top:2px }

    .task{ display:block; width:100%; text-align:left; border:1px solid var(--glass-border); background:rgba(255,255,255,.05);
      padding:12px 14px; border-radius:14px; transition:.15s }
    .task:hover{ background:rgba(255,255,255,.10) }
    .task.done{ background:rgba(16,185,129,.18); border-color:rgba(16,185,129,.35) }
    .task-row{ display:flex; align-items:center; gap:10px }
    .check{
      width:22px; height:22px; flex:0 0 22px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center;
      border:1px solid rgba(255,255,255,.25); background:transparent; transition:.2s
    }
    .task.done .check{ border-color:#10b981; background:rgba(16,185,129,.25) }
    .task text{ color:var(--text) }
    .task.done .label{ text-decoration:line-through; color:var(--muted2) }

    .weeks-grid{ display:grid; gap:10px; grid-template-columns:1fr }
    @media(min-width:800px){ .weeks-grid{ grid-template-columns:repeat(3,1fr) } }
    .week-cell{ border:1px solid var(--glass-border); background:rgba(255,255,255,.05); border-radius:16px; padding:12px; text-align:left; transition:.2s; cursor:pointer }
    .week-cell:hover{ background:rgba(255,255,255,.10) }
    .tag{ color:var(--muted); font-size:12px }
    .complete{ color:#86efac; font-size:12px; font-weight:600 }

    .footer{ text-align:center; color:var(--muted); font-size:12px; margin-top:32px }

    .row{ display:flex; align-items:center; gap:12px }
    .space{ height:12px }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="row" style="justify-content:space-between; flex-wrap:wrap; gap:8px">
      <div>
        <div class="chip">✨ Analyst Pivot — 12 Weeks</div>
        <h1>Your No-Excuses Analyst Blueprint</h1>
        <p class="lede">Check items off. Make progress visible. Finish a week and it explodes. Peace of mind through momentum.</p>
      </div>
      <button id="reset-all" class="btn">↺ Reset All</button>
    </div>

    <div class="glass" style="margin-top:16px">
      <div class="row" style="justify-content:space-between; flex-wrap:wrap">
        <div class="row">
          <div style="font-size:28px">☑️</div>
          <div>
            <div style="color:var(--muted); font-size:14px">Overall Progress</div>
            <div id="overall-stats" style="font-weight:600; font-size:16px">0/0 tasks • 0%</div>
          </div>
        </div>
        <div style="min-width:260px; flex: 1 1 320px; max-width:520px">
          <div class="progress"><div id="overall-bar" class="bar"></div></div>
        </div>
      </div>
    </div>

    <div class="grid3" style="margin-top:16px">
      <button id="prev" class="btn">← Prev</button>
      <div class="week-nav">
        <div class="tag" id="week-xofy">Week 1 of 12</div>
        <div class="week-title" id="week-title">Week 1 — SQL Foundations I</div>
        <div class="week-sub" id="week-sub">SELECT & WHERE basics, set up BI tool, refresh pivots.</div>
      </div>
      <button id="next" class="btn">Next →</button>
    </div>

    <div class="glass" style="margin-top:12px">
      <div class="row" style="justify-content:space-between">
        <div class="tag">This week</div>
        <div id="week-stats" style="font-size:14px; font-weight:600">0/0 • 0%</div>
      </div>
      <div class="space"></div>
      <div class="progress"><div id="week-bar" class="bar"></div></div>
      <div class="space"></div>
      <div id="tasks" style="display:grid; gap:10px"></div>
      <div class="row" style="justify-content:space-between; margin-top:12px">
        <button id="reset-week" class="btn">↺ Reset this week</button>
        <div class="tag">Tip: finish all items to unleash confetti & auto-advance.</div>
      </div>
    </div>

    <h3 class="tag" style="margin:26px 0 10px">All Weeks</h3>
    <div id="weeks-grid" class="weeks-grid"></div>

    <div class="footer">Built for momentum — not perfection. 20 minutes done beats 2 hours planned.</div>
  </div>

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
  <script>
    // ------- Plan data -------
    const PLAN = [
      { week:1,  title:"Week 1 — SQL Foundations I", objective:"SELECT & WHERE basics, set up BI tool, refresh pivots.", tasks:[
        "SQLBolt Lessons 1-4 (SELECT, WHERE)",
        "Mode SQL Tutorial intro",
        "Install & open Looker Studio / Power BI",
        "Recreate 1 current report as a clean dashboard",
        "Excel: Pivot table + basic cleaning warm-up"
      ]},
      { week:2,  title:"Week 2 — Joins & First Dashboard", objective:"JOINs & GROUP BY, ship dashboard v1.", tasks:[
        "SQL: INNER/LEFT JOIN with real e-com CSVs",
        "GROUP BY + aggregations (SUM, COUNT, AVG)",
        "Dashboard v1: Units, Sales, Sessions by day",
        "Excel: INDEX-MATCH & TEXT cleanup"
      ]},
      { week:3,  title:"Week 3 — Aggregations & Filters", objective:"Refine queries, add dashboard filters.", tasks:[
        "SQL: HAVING, DISTINCT, NULL handling",
        "Dashboard: Date range + Marketplace filters",
        "Add Top SKUs table with search",
        "Draft insights: 3 bullets on trends"
      ]},
      { week:4,  title:"Week 4 — Deliverable #1", objective:"Polish & publish Amazon Sales Performance Dashboard.", tasks:[
        "Polish charts (titles, number formats, legends)",
        "Executive summary (1 page PDF)",
        "Publish share link (Looker/Tableau Public)",
        "Screenshot + add to portfolio/Notion"
      ]},
      { week:5,  title:"Week 5 — CTEs & Subqueries", objective:"Level up SQL; start business storytelling.", tasks:[
        "SQL: CTEs & subqueries on orders/ad data",
        "Read chart/UX best practices; remove chart junk",
        "Write 5 KPI definitions (CVR, AOV, LTV, Retention, ACOS)"
      ]},
      { week:6,  title:"Week 6 — CASE WHEN & ROI", objective:"Add logic to queries; build Ad ROI analysis.", tasks:[
        "SQL: CASE WHEN for bucketing cohorts",
        "Dashboard: Time & category filters for ads",
        "Calculate ROAS/ACOS & annotate outliers",
        "Draft recommendations (where to reallocate budget)"
      ]},
      { week:7,  title:"Week 7 — Window Functions", objective:"ROW_NUMBER/RANK; trend & cohort deep dive.", tasks:[
        "SQL: Window functions on sessions/orders",
        "Trend chart: 12-week rolling averages",
        "Retention or cohort table (first vs. repeat)",
        "Draft executive summary"
      ]},
      { week:8,  title:"Week 8 — Deliverable #2", objective:"Finalize Ad Spend ROI Dashboard + 1-page PDF.", tasks:[
        "Polish dashboard (color, labels, context)",
        "Write 1-page PDF summary",
        "Peer review (friend/mentor) & revise",
        "Publish link + add to portfolio/Notion"
      ]},
      { week:9,  title:"Week 9 — Python (Optional but Spicy)", objective:"Pandas basics for cleanup & quick analysis.", tasks:[
        "Set up Jupyter / VSCode",
        "Load CSVs with pandas, clean columns",
        "Groupby & export cleaned dataset for BI"
      ]},
      { week:10, title:"Week 10 — Mock Project", objective:"Customer Retention Analysis or similar.", tasks:[
        "Pick public e-com dataset / your export",
        "Build dashboard: retention & repeat purchase",
        "Write 3 actions to improve retention"
      ]},
      { week:11, title:"Week 11 — Interview Prep", objective:"STAR stories, resume & LinkedIn polish.", tasks:[
        "Write 3 STAR stories from your projects",
        "Update resume bullets for analyst framing",
        "Refresh LinkedIn with project screenshots"
      ]},
      { week:12, title:"Week 12 — Deliverable #3 & Launch", objective:"Final portfolio wrap; start applying with proof.", tasks:[
        "Publish Project #3 (dashboard + PDF + GitHub)",
        "Create Notion/website portfolio page",
        "Apply to 10 roles (tailored) & book 2 mocks"
      ]}
    ];
    const STORAGE_KEY = "analyst-pivot-progress-v1";

    // ------- State -------
    let progress = loadProgress(); // boolean[][]: week -> task -> done
    let currentWeekIdx = 0;

    function loadProgress(){
      const saved = localStorage.getItem(STORAGE_KEY);
      if(saved){
        try { 
          const parsed = JSON.parse(saved);
          // if shape mismatches (you updated plan), rebuild
          if(Array.isArray(parsed) && parsed.length === PLAN.length){
            return parsed.map((row, i)=> Array.isArray(row) ? row.slice(0, PLAN[i].tasks.length).concat(Array(Math.max(0, PLAN[i].tasks.length - row.length)).fill(false)) : PLAN[i].tasks.map(()=>false));
          }
        } catch {}
      }
      return PLAN.map(w => w.tasks.map(() => false));
    }
    function saveProgress(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(progress)); }

    // ------- DOM -------
    const overallStats = document.getElementById('overall-stats');
    const overallBar   = document.getElementById('overall-bar');
    const weekXofY     = document.getElementById('week-xofy');
    const weekTitle    = document.getElementById('week-title');
    const weekSub      = document.getElementById('week-sub');
    const weekStats    = document.getElementById('week-stats');
    const weekBar      = document.getElementById('week-bar');
    const tasksEl      = document.getElementById('tasks');
    const gridEl       = document.getElementById('weeks-grid');
    const prevBtn      = document.getElementById('prev');
    const nextBtn      = document.getElementById('next');
    const resetAllBtn  = document.getElementById('reset-all');
    const resetWeekBtn = document.getElementById('reset-week');

    prevBtn.onclick = () => { currentWeekIdx = Math.max(0, currentWeekIdx-1); render(); };
    nextBtn.onclick = () => { currentWeekIdx = Math.min(PLAN.length-1, currentWeekIdx+1); render(); };
    resetAllBtn.onclick = () => {
      if(confirm("Reset all progress?")){
        progress = PLAN.map(w => w.tasks.map(()=>false));
        currentWeekIdx = 0;
        saveProgress(); render();
      }
    };
    resetWeekBtn.onclick = () => {
      progress[currentWeekIdx] = progress[currentWeekIdx].map(()=>false);
      saveProgress(); render();
    };

    function render(){
      const totalTasks = PLAN.reduce((a,w)=>a+w.tasks.length,0);
      const completedTasks = progress.flat().filter(Boolean).length;
      const percent = totalTasks ? Math.round(completedTasks/totalTasks*100) : 0;
      overallStats.textContent = `${completedTasks}/${totalTasks} tasks • ${percent}%`;
      overallBar.style.width = percent + "%";

      const week = PLAN[currentWeekIdx];
      weekXofY.textContent = `Week ${week.week} of ${PLAN.length}`;
      weekTitle.textContent = week.title;
      weekSub.textContent = week.objective;

      tasksEl.innerHTML = "";
      week.tasks.forEach((t, i)=>{
        const done = progress[currentWeekIdx][i];
        const li = document.createElement('button');
        li.className = 'task' + (done ? ' done' : '');
        li.innerHTML = `
          <div class="task-row">
            <div class="check">${ done ? '✓' : '' }</div>
            <span class="label">${t}</span>
          </div>`;
        li.onclick = ()=>{
          progress[currentWeekIdx][i] = !progress[currentWeekIdx][i];
          saveProgress();
          render();

          // If week completed now -> confetti + auto-advance
          const nowDone = progress[currentWeekIdx].every(Boolean);
          if(nowDone){
            burst();
            setTimeout(()=>{
              currentWeekIdx = Math.min(currentWeekIdx+1, PLAN.length-1);
              render();
            }, 900);
          }
        };
        tasksEl.appendChild(li);
      });

      const weekCompleted = progress[currentWeekIdx].filter(Boolean).length;
      const weekPercent = week.tasks.length ? Math.round(weekCompleted/week.tasks.length*100) : 0;
      weekStats.textContent = `${weekCompleted}/${week.tasks.length} • ${weekPercent}%`;
      weekBar.style.width = weekPercent + "%";

      // weeks overview grid
      gridEl.innerHTML = "";
      PLAN.forEach((w, idx)=>{
        const count = progress[idx].filter(Boolean).length;
        const doneAll = progress[idx].every(Boolean);
        const btn = document.createElement('button');
        btn.className = "week-cell";
        btn.innerHTML = `
          <div class="row" style="justify-content:space-between">
            <div class="tag">Week ${w.week}</div>
            ${doneAll ? '<div class="complete">Complete</div>' : ''}
          </div>
          <div style="font-weight:600; margin-top:2px">${w.title}</div>
          <div class="tag" style="margin-top:4px">${count}/${w.tasks.length} tasks</div>
        `;
        btn.onclick = ()=>{ currentWeekIdx = idx; render(); };
        if(idx === currentWeekIdx){
          btn.style.borderColor = "rgba(129,140,248,.6)";
          btn.style.background = "rgba(129,140,248,.14)";
        }
        gridEl.appendChild(btn);
      });
    }

    function burst(){
      const count = 160, defaults = { origin: { y: 0.55 } };
      function fire(particleRatio, opts) {
        confetti(Object.assign({}, defaults, opts, {
          particleCount: Math.floor(count * particleRatio)
        }));
      }
      fire(0.25, { spread: 26, startVelocity: 55, colors: ['#6366f1','#a78bfa','#22d3ee','#34d399','#f59e0b','#ef4444'] });
      fire(0.2,  { spread: 60 });
      fire(0.35, { spread: 100, decay: 0.91, scalar: 0.9 });
      fire(0.1,  { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
      fire(0.1,  { spread: 120, startVelocity: 45 });
    }

    render();
  </script>
</body>
</html>
